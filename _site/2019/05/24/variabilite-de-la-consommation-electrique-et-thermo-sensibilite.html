<!DOCTYPE html><html lang="fr">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Variabilité de la consommation électrique et thermo-sensibilité - Alternatives énergétiques</title>

<meta name="description" content="     Résumé -- Dans ce post je décris brièvement les phénomènes de variabilité de la consommation électrique en distinguant plusieurs causes et plusieurs éch...">
<link rel="canonical" href="http://localhost:4000/2019/05/24/variabilite-de-la-consommation-electrique-et-thermo-sensibilite.html"><link rel="alternate" type="application/rss+xml" title="Alternatives énergétiques" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" ><!-- start custom head snippets -->


<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://use.fontawesome.com/releases/v5.0.13/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: 'https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><?xml version="1.0" encoding="utf-8"?>
<!-- Generated by IcoMoon.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
<path fill="#444444" d="M8 0l-8 8 8 8 8-8-8-8zM2 8l6-6 6 6-6 6-6-6z"></path>
</svg>
<a title="Vers une meilleure compréhension de notre système énergétique et de son évolution
" href="/">Alternatives énergétiques</a></div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/archive.html">Archives</a></li><li class="navigation__item"><a href="/about.html">À propos</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><img class="article__header--cover" src="/assets/images/Posts/2019-05-24/Thermosens.jpg" /><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><div class="article__header"><header><h1>Variabilité de la consommation électrique et thermo-sensibilité</h1></header><span class="split-space">&nbsp;</span>
          <a class="edit-on-github"
            title="Modifier sur Github"
            href="https://github.com/robingirard/energy-alternatives/tree/master/_posts/2019-05-24-variabilite-de-la-consommation-electrique-et-thermo-sensibilite.md">
            <i class="far fa-edit"></i></a></div><meta itemprop="headline" content="Variabilité de la consommation électrique et thermo-sensibilité"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=Thermosensibilite">Thermosensibilite</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=consommation">consommation</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=variabilite">variabilite</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=chauffage">chauffage</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=evolution">evolution</a>
            </li></ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>24 May, 2019</span>
            </li></ul></div><meta itemprop="author" content="Robin Girard"/><meta itemprop="datePublished" content="2019-05-24T00:00:00+02:00">
    <meta itemprop="keywords" content="Thermosensibilite,consommation,variabilite,chauffage,evolution"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><div class="summary" style="display:block; text-align: justify">
<em>
     Résumé -- Dans ce post je décris brièvement les phénomènes de variabilité de la consommation électrique en distinguant plusieurs causes et plusieurs échelles de temps. J’analyse en particulier le phénomène de thermosensibilité –sensibilité de la consommation à la température- important en France et problématique. Je montre l’évolution de cette thermosensibilité depuis 1996, on observe un doublement de l’amplitude du phénomène de 2000 à 2010.
     Dans d’autres posts je discuterai les causes de cette évolution, de la dispersion de ce phénomène sur le territoire ainsi que les évolutions possibles dans l’avenir.
</em>
</div>

<!--more-->

<hr />

<div class="text" style="display:block; text-align: justify">
     Dans la plupart des régions du monde on a coutume de découper les variations intra-annuelles de la consommation électrique en variations journalières, hebdomadaires et saisonnières. Pour les variations intra-annuelles on peut distinguer grossièrement deux types de causes :
<ul> <li>l’emploi du temps des consommateurs qui fait varier la consommation au cours d’une journée et d’un jour de travail à un jour de congé. Cet emploi du temps peut aussi provoquer de légères variations saisonnières avec les grandes vacances d’été, surtout localement mais aussi à l’échelle du pays.</li>
  <li>la sensibilité de la consommation à la météorologie et plus particulièrement à la température -la thermo-sensibilité- qui a de légères conséquences sur les variations de la consommation à l’échelle journalières des conséquences qui peuvent être importantes à l’échelle hebdomadaires, et surtout des conséquences très importantes à l’échelle saisonnière.</li>
</ul>
</div>

<p><span class="text" style="display:block; text-align: justify">
     Je vais étudier en détail les effets de ces deux types de causes. Puis je parlerai des évolutions sur le long terme (au-delà de l’échelle intra-annuelle) de la consommation et de sa thermo-sensibilité qui ont d’autres causes.
</span></p>

<h2 id="les-variations-intra-annuelles-de-la-consommation-dorigine-non-météorologique">Les variations intra-annuelles de la consommation d’origine non météorologique</h2>
<p><span class="text" style="display:block; text-align: justify">
Les variations journalières peuvent différer en fonction de la saison. C’est le cas par exemple en France où l’on consomme toujours plus la journée que la nuit mais le pic journalier est atteint vers 19h en hivers et plutôt vers 14h en été (<a href="#Figure1">Figure 1</a>). A l’inter-saison le pic du soir se déplace légèrement avec l’évolution de la luminosité qui joue non seulement sur notre consommation de lumière mais aussi sur notre mode de vie.
</span></p>

<p><span class="text" id="Figure1" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/VarConsoFigure1.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure1" style="display:block;text-align:center">
<strong>Figure 1</strong> – Type de profil de consommation électrique (exprimée en GW une unité de puissance) pour une journée froide de l’hiver 2012 et une journée chaude de l’été en France. Attention, les échelles des deux graphiques sont très différentes ! (Source : données de consommation France RTE)
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Sur cet exemple particulier de la <a href="#Figure1">Figure 1</a>, la différence entre le creux de la nuit et le pic de la journée ou du soir est d’environ 15 GW, et la différence n’est pas plus marquée en hiver. Nous allons étudier la distribution générale de ces pics au cours de l’année. On peut diviser ces variations en deux parties comme cela est fait Figure 2 : une variation à la baisse (entre la moyenne journalière et le creux) et une variation à la hausse (entre la moyenne journalière et le pic). La Figure 2 donne la distribution de ces variations en puissance pour la période 2012-2018, période pendant laquelle elles n’ont quasiment pas évolué. Ces variations sont plus importantes à la baisse (autour de 9-10 GW en moyenne et jusqu’à 16 GW au maximum) qu’à la hausse (autour de 7GW en moyenne et jusqu’à 12GW au maximum). La température (période chaude ou froide) a une influence assez faible sur les variations. Pour les variations à la hausse, la moyenne hivernale n’est que quelques centaines de MW plus grande que pendant la saison chaude. Cette définition des variations est simple et pratique et elle sera traduite en un besoin de modulation dans des posts ultérieurs. Il existe évidemment d’autre manières d’appréhender cette variabilité, et l’on pourra par exemple consulter [<a href="https://www.sciencedirect.com/science/article/pii/S0306261919302107?via%3Dihub">Heggarty2018</a>] pour les définitions proposées à plusieurs échelles de temps et les références qui s’y trouvent.
</span></p>

<p><span class="text" id="Figure2" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/VarConsoFigure2.v2.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure2" style="display:block;text-align:center">
<strong>Figure 2</strong> – Une définition des variations extremales à la hausse ou à la baisse (à gauche) et leurs distributions sur la période 2012-2018 en fonction du moment de l’année (période d’utilisation du chauffage ou non). Source des données : consommation France RTE
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Les variations hebdomadaires peuvent être liées aux deux causes mentionnées en introduction de ce post. En ce qui concerne la sensibiltié de la consommation à la température nous étudierons ce phénomène dans la section suivante, à l’échelle hebdomadaire l’arrivée d’une vague de froid peut faire augmenter la consommation de quelques dizaines de GW en un jour ou deux. Pour ce qui est de l’emploi du temps des consommateurs, ce sont essentiellement les variations entre le weekend end ou les jours de congés et la semaine de travail, qui causent des variations de consommation. En générale la consommation est plus faible le week end.
</span></p>

<p><span class="text" style="display:block; text-align: justify">
On peut produire pour ces de variations hebdomadaires la même analyse que pour les variations journalières en définissant une variation à la baisse (ou à la hausse) entre la moyenne hebdomadaire et la plus petite (ou la plus grande) consommation moyenne journalière. C’est ce qui est fait Figure 3 où l’on observera que ces variations sont plus importante à la baisse. Ceci s’explique par le fait que la consommation est plus faible seulement les jours de week end et que donc la moyenne hebdomadaire reflète plutôt un jour de semaine.
</span></p>

<p><span class="text" id="Figure3" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/VarConsoFigure3.v2.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure3" style="display:block;text-align:center">
<strong>Figure 3</strong> –  Distributions sur la période 2012-2018 des variations hebdomadaires extremales à la hausse ou à la baisse leurs en fonction du moment de l’année (période d’utilisation du chauffage ou non). Source des données : consommation France RTE. La variation hebdomadaire est construite à partir des consommations moyennes journalières (voir texte).
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Au sein d’une année, la variation la plus importante est la variation saisonnière. Le pic peut dépasser les 100 GW en hiver comme lors de la vague de froid de 2012 alors qu’en été il est autour de 50 GW. L’existence et l’ampleur (presque 50 GW) de la différence entre ces pointes hivernales et les points estivales est principalement due à la sensibilité de la consommation à la température. En hiver plus il fait froid et plus nous consommons d’électricité, c’est ce que l’on appelle la <strong>thermosensibilité</strong> sur laquelle je vais donner plus de détails dans la section suivante.
</span></p>

<h2 id="sensibilité-de-la-consommation-à-la-température-définition-de-la-thermo-sensibilité">Sensibilité de la consommation à la température, définition de la thermo-sensibilité</h2>

<p><span class="text" style="display:block; text-align: justify">
La thermosensibilité permet de quantifier la variation de la consommation avec la température. On peut voir sur la Figure 4 cette relation entre la consommation Française moyenne journalière et la température moyenne journalière. Pour des températures inférieures à 15°C elle est assez bien décrite par une droite. La pente de cette droite donne les MW additionnels de consommation qu’engendre une baisse de 1°C, c’est de cette manière que l’on quantifie la thermosensibilité. En dessous de la température seuil (ici 15 °C) la consommation dépend de la température, aussi ce seuil est parfois appelé « température de chauffage ». On peut imaginer en première approximation qu’il s’agit ici d’une température extérieure à partir de laquelle en moyenne les Français se mettent à chauffer.
</span></p>

<p><span class="text" id="Figure4" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/VarConsoFigure4.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure4" style="display:block;text-align:center">
<strong>Figure 4</strong> –  Une définition de la thermo-sensibilité : pente de la droite de régression linéaire entre la moyenne journalière de la consommation et celle de la température, sur une plage de température où la relation est linéaire. Ici sur les données de consommation France de 2012 (source RTE) et avec les données de température issue de la pondération spatiale de stations météorologiques proposée par RTE.
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Plusieurs définitions existent mais toutes reposent sur un modèle linéaire entre des données de consommation électrique et une température pour un sous-ensemble bien choisi des observations. Ce sous-ensemble est ici composé des données pour lesquelles la température est en dessous de 15°, mais il peut aussi être définit par des dates délimitant une période, ou bien par une combinaison des deux. La consommation est ici une moyenne journalière mais elle peut également être prise au maximum de la journée ou à une heure précise. Il existe plusieurs manières de définir une température nationale. Vous pouvez tester différentes définitions de la thermosensibilité en utilisant le code et les données partagées (cf sous le résumé). La thermosensibilité est finalement la pente de la droite de régression linéaire et se mesure donc en GW/°C.
</span></p>

<p><span class="text" style="display:block; text-align: justify">
La sensibilité de la consommation électrique à la température est différente selon les pays. Dans certains pays il y a aussi une température chaude au-dessus de laquelle la consommation dépend à nouveau de la température à cause de l’utilisation de climatiseurs. C’est le cas par exemple des Etats Unis ou de l’Italie, ou dans certains endroits très particulier de la France. A l’échelle de la France il n’y a pas de thermosensibilité estivale.  Entre ces plages de température (“température de chauffage” et “température de climatisation” si elle existe) la consommation est relativement indépendante de la température. Dans certaines communes du sud de la France, localement, l’effet de la thermosensibilité estivale combiné à des migrations estivales peut impliquer que les pointes de consommation annuelles locales aient lieu en été.
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Pour l’hiver en France, la thermosensibilité était autour de 2.3 GW/°C (l’équivalent de deux tranches nucléaires par degré) en 2013. La température de non chauffage est autour de 15°C. La relation linéaire entre consommation et température explique qu’il puisse y avoir une différence de presque 50 GW entre la consommation d’une journée d’été et celle d’une journée de grand froid où la température moyenne nationale descend au-dessous de -5°C comme cela est arrivé en 2012. La <a href="#Figure5">Figure 5</a> illustre la ce phénomène dans différents pays, il est très prononcé en France : la thermosensibilité européenne, de l’ordre de 5 GW/°C est presque pour moitié française.
</span></p>

<p><span class="text" id="Figure5" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/VarConsoFigure3.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure5" style="display:block;text-align:center">
<strong>Figure 5</strong> –  Thermosensibilité de quatre pays européens (Allemagne, Royaume-Uni, Espagne et France) le pic journalier de la consommation est représenté en fonction de la température nationale pour l’année 2015. Les données de températures sont obtenues à partir de la base de données MERRA (NASA) et les données de consommation à partir de ENTSOE.
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Le fait de prendre une température moyenne journalière et une consommation moyenne journalière est préféré ici à l’étude des variations horaires. Cela permet de ne pas intégrer des effets liés l’emploi du temps des consommateurs (surplus de consommation à 19h) et qui ne sont pas dus à la température mais qui lui sont corrélés. Par ailleurs si la température moyenne journalière a une influence importante sur la consommation moyenne journalière (plus de 2GW/°C), ce qu’ajoutent les variations infra-journalières à cette dépendance est moins important. Pour être plus précis si l’on étudie les variables :
</span></p>

<div class="text" style="display:block; text-align: justify">
<ul> <li> X : la différence entre la pointe de consommation journalière et sa moyenne journalière</li>
<li>   Et Y : la différence entre la température au moment du pic et sa moyenne journalière</li>
  </ul>
</div>

<p><span class="text" style="display:block; text-align: justify">
on obtient entre elles une faible corrélation et un coefficient directeur de la régression linéaire autour de 200MW/°C (donc beaucoup plus faible que les 2GW/°C) sans réelle évolution depuis 1996. Le code mis à disposition pour ce post permet de reproduire cette analyse.  Nous reviendrons sur ce point lorsque nous parlerons de la principale cause de la thermosensibilité, le chauffage électrique, et de l’inertie relative à cet usage.<br />
</span></p>

<h2 id="evolution-passée-de-la-thermosensibilité-en-france">Evolution passée de la thermosensibilité en France.</h2>

<p><span class="text" style="display:block; text-align: justify">
La consommation annuelle électrique depuis la création d’EDF au lendemain de la seconde guerre mondiale a augmenté de presque 5 TWh chaque année jusqu’au milieu des années 1990. Cette croissance est liée à la croissance économique aux changements du mode de vie des français. Ces augmentations sont plus liées à une évolution dans le secteur résidentiel et tertiaire que dans l’industrie mais nous discuterons les évolutions par secteur dans un autre post. Cette croissance a ensuite connu un ralentissement jusqu’à la crise de 2008 après laquelle on ne détecte pas pour l’instant d’augmentation significative.
</span></p>

<p><span class="text" style="display:block; text-align: justify">
Durant les années 2000 à 2012 pourtant, alors même que la consommation annuelle ralentissait un phénomène est notable : les pics de consommation annuels ont beaucoup augmenté. Il n’est pas évident de dire dans quelle mesure ce phénomène est nouveau car les données de consommation heure par heure avant 1996 ne sont pas rendues disponibles par le gestionnaire du réseau de transport RTE. Les pics ont augmenté deux fois plus vite que la consommation moyenne et cela correspond à une augmentation d’environ 30% en 10 ans, soit à peu près 2 GW par an (Figure 6).
</span></p>

<p><span class="text" id="Figure6" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/VarConsoFigure4.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure6" style="display:block;text-align:center">
<strong>Figure 6</strong> –  Consommation horaire Française de 1996 à 2019. Entre 2000 et 2012, alors que l’énergie annuelle consommée stagne, on observe une augmentation d’environ 30% des pointes de consommation (Source RTE).
</span></p>

<p><span class="text" style="display:block; text-align: justify">
La thermosensibilité est presque entièrement à l’origine de l’augmentation des pointes puisqu’elle a plus que doublé entre 2000 et 2012 passant de 800 MW/°C à 2400 MW/°C. Cela correspond en moyenne à plus de 100 MW/°C de plus chaque année. Une température d’un peu moins que 13°C en dessous des normales saisonnières provoquait une augmentation de la consommation de 10 GW en 2000 et de l’ordre de 30 GW en 2012. Ainsi, la légère augmentation de la consommation annuelle et le grand froid de 2012 expliquent presque totalement l’évolution des pics présentés à la Figure 4. La Figure 7 illustre l’évolution du phénomène de thermosensibilité de 2000 à 2012. Par ailleurs, on peut noter que les pics de consommation sont de plus en plus une conséquence directe des variations de la température (évolution de la variance expliquée par la régression linéaire, qui tourne autour de 70% ces dernières années).
</span></p>

<p><span class="text" id="Figure7" style="display:block;text-align:center">
<img src="/assets/images/Posts/2019-05-24/Var-ConsoFigure5.png" alt="Image" class="border" />
</span>
<span class="legendtext" id="CAPFigure7" style="display:block;text-align:center">
<strong>Figure 7</strong> –  Evolution de la thermosensibilité de la consommation électrique Française pendant 20 ans (de 1996 à 2019), 100MW/°C de plus chaque année : pente de la relation “conso moyenne journalière”=f(Température moyenne journalière).
</span></p>

<p><span class="text" style="display:block; text-align: justify">
On observe donc une augmentation substantielle de la thermosensibilité. Il semble que cette augmentation ait commencé en 2000 mais les données de consommation horaires avant 1996 manquent ici à l’analyse. On peut tout de même penser que le phénomène des années 2000-2010 est nouveau dans le sens où l’évolution de la consommation d’énergie électrique annuelle depuis 1970 a connu un ralentissement progressif. La tendance d’évolution de la thermo-sensibilité n’est pas confirmée par les années 2012-2018 (cf Figure 7). Il est intéressant d’essayer de comprendre d’une part les conséquences de cette thermosensibilité sur le coût du système électrique et d’autre part ce qui est à l’origine des évolutions passées et futures de la thermo-sensibilité pour bien la modéliser dans une démarche prospective. C’est ce que je ferai dans des posts ultérieurs.
</span></p>

<h2 id="conclusion">Conclusion</h2>

<p><span class="text" style="display:block; text-align: justify">
J’ai analysé les variations de la consommation à plusieurs échelles de temps et selon plusieurs causes. J’ai donné une définition de la thermo-sensibilité, c‘est un concept simple utilisé depuis longtemps par les gestionnaires des réseaux électrique Français (transport et distribution) et depuis encore plus longtemps par les gaziers. Nous aurons l’occasion de revenir dessus dans des posts futurs. J’étudierai notamment les causes de la thermo-sensibilité (essentiellement le chauffage électrique), ainsi que les conséquences sur la gestion et la planification du système électrique des différentes formes de variations. J’étudierai aussi la variabilité de la production renouvelable et je montrerai également comment celle-ci impacte le système électrique : son fonctionnement et son dimensionnement.
</span></p>
</div><section class="article__sharing d-print-none"><!-- AddToAny BEGIN -->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
<a class="a2a_button_facebook"></a>
<a class="a2a_button_twitter"></a>
<a class="a2a_button_google_plus"></a>
<a class="a2a_button_linkedin"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->
</section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2019-05-24T00:00:00+02:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">S'abonner</a></div>
</div></footer>
<div class="article__section-navigator clearfix"><div class="next"><span>SUIVANT</span><a href="/2020/03/22/une-contribution-a-la-reflexion-sur-la-strategie-nationale-bas-carbone-dans-le-batiment-partie-1-quels-modes-de-chauffage-a-lhorizon-2050.html">Une contribution à la réflexion sur la stratégie nationale bas carbone dans le batiment. Partie 1 - Quels modes de chauffage à l’horizon 2050.</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robin Girard"><meta itemprop="url" content="/"><meta itemprop="description" content="I am an assistant professor at MINES ParisTech"><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><li title="Envoyez-moi un courriel.">
      <a class="button button--circle mail-button" itemprop="email" href="mailto:robin.girard@mines-paristech.fr" target="_blank">
        <i class="fas fa-envelope"></i>
      </a><li title="Suivez-moi sur Facebook.">
        <a class="button button--circle facebook-button" itemprop="sameAs" href="https://www.facebook.com/robin.girard0" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M767.428571 6.857143l0 150.857143-89.714286 0q-49.142857 0-66.285714 20.571429t-17.142857 61.714286l0 108 167.428571 0-22.285714 169.142857-145.142857 0 0 433.714286-174.857143 0 0-433.714286-145.714286 0 0-169.142857 145.714286 0 0-124.571429q0-106.285714 59.428571-164.857143t158.285714-58.571429q84 0 130.285714 6.857143z" />
</svg>
</div>
        </a>
      </li><li title="Suivez-moi sur Linkedin.">
        <a class="button button--circle linkedin-button" itemprop="sameAs" href="https://www.linkedin.com/in/robin-girard-a88baa4" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M260.096 155.648c0 27.307008-9.899008 50.516992-29.696 69.632-19.796992 19.115008-45.396992 28.672-76.8 28.672-30.036992 0-54.612992-9.556992-73.728-28.672-19.115008-19.115008-28.672-42.324992-28.672-69.632 0-28.672 9.556992-52.224 28.672-70.656 19.115008-18.432 44.372992-27.648 75.776-27.648 31.403008 0 56.32 9.216 74.752 27.648 18.432 18.432 28.331008 41.984 29.696 70.656 0 0 0 0 0 0m-202.752 808.96c0 0 0-632.832 0-632.832 0 0 196.608 0 196.608 0 0 0 0 632.832 0 632.832 0 0-196.608 0-196.608 0 0 0 0 0 0 0m313.344-430.08c0-58.708992-1.364992-126.292992-4.096-202.752 0 0 169.984 0 169.984 0 0 0 10.24 88.064 10.24 88.064 0 0 4.096 0 4.096 0 40.96-68.267008 105.812992-102.4 194.56-102.4 68.267008 0 123.220992 22.868992 164.864 68.608 41.643008 45.739008 62.464 113.664 62.464 203.776 0 0 0 374.784 0 374.784 0 0-196.608 0-196.608 0 0 0 0-350.208 0-350.208 0-91.476992-33.451008-137.216-100.352-137.216-47.787008 0-81.236992 24.576-100.352 73.728-4.096 8.192-6.144 24.576-6.144 49.152 0 0 0 364.544 0 364.544 0 0-198.656 0-198.656 0 0 0 0-430.08 0-430.08 0 0 0 0 0 0" />
</svg>
</div>
        </a>
      </li><li title="Suivez-moi sur Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/robingirard" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© Alternatives énergétiques 2020,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">Recherche</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        Annuler</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  ⬅, 38  ⬆, 39  ➡, 40  ⬇
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script><script>
  window.Lazyload.js(['https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js', 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js'], function() {
    var $canvas = null, $this = null, _ctx = null, _text = '';
    $('.language-chart').each(function(){
      $this = $(this);
      $canvas = $('<canvas></canvas>');
      _text = $this.text();
      $this.text('').append($canvas);
      _ctx = $canvas.get(0).getContext('2d');
      (_ctx && _text) && (new Chart(_ctx, JSON.parse(_text)) && $this.attr('data-processed', true));
    });
  });
</script>
<script type="text/x-mathjax-config">
	var _config = { tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']]
	}};MathJax.Hub.Config(_config);
</script>
<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  window.Lazyload.js('https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js', function() {
    mermaid.initialize({
      startOnLoad: true
    });
    mermaid.init(undefined, '.language-mermaid');
  });
</script>

    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>

